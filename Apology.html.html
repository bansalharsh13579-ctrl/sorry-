<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Heartfelt Apology</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load React, ReactDOM, and Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Custom Fonts and Animations */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600&display=swap');

        .font-hand { font-family: 'Dancing Script', cursive; }
        .font-body { font-family: 'Quicksand', sans-serif; }

        @keyframes float {
          0% { transform: translateY(0px) rotate(0deg); opacity: 0; }
          10% { opacity: 0.6; }
          50% { transform: translateY(-100vh) rotate(180deg); opacity: 0; }
          100% { opacity: 0; }
        }

        .floating-heart {
          position: absolute;
          bottom: -10%;
          animation: float 10s linear infinite;
          z-index: 0;
        }

        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 1s ease-in;
        }

        /* Blob/Orb animation for background */
        @keyframes blob {
          0%, 100% { transform: scale(1) translate(0, 0); }
          30% { transform: scale(1.1) translate(30px, -50px); }
          60% { transform: scale(0.9) translate(-40px, 30px); }
        }
        .animate-blob {
            animation: blob 15s infinite alternate;
        }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }

        /* Ensure full screen layout */
        body, #root {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>

<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

// --- Icon Definitions (Lucide SVG replacements) ---
// Since we can't import 'lucide-react', we define simple components returning SVGs

const Heart = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill={props.fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
    </svg>
);
const ArrowRight = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>
    </svg>
);
const Volume2 = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
    </svg>
);
const VolumeX = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M11 5L6 9H2V15H6L11 19V5z"/><line x1="22" x2="16" y1="9" y2="15"/><line x1="16" x2="22" y1="9" y2="15"/>
    </svg>
);
const Stars = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M12.5 2a.5.5 0 0 1 0 1h-1a.5.5 0 0 1 0-1h1Z"/><path d="M12 21.5V19M3.5 12h3M17 12h3M12 5.5v3M15 17.5l-2.5 1.5-2.5-1.5 1-3.5-3-2.5 4-.5 1.5-4 1.5 4 4 .5-3 2.5Z"/>
    </svg>
);


// --- Assets ---
const ASSETS = {
  // Intro: Mochi cat in vans GIF
  intro: "https://media.tenor.com/90wYvj5Wz1MAAAAC/mochi-cat-vans.gif", 
  // Sad: Crying/Sad cat
  sad: "https://media.tenor.com/K2OG1M9Wv6UAAAAi/mochi-peach.gif",
  // Final 1: Cat holding heart (Left)
  heartCat1: "https://media.tenor.com/J33yD3rI4Y8AAAAi/mochi-mochi-peach-cat-love.gif", 
  // Final 2: Cat sending love (Right)
  heartCat2: "https://media.tenor.com/0i1rW1zK8HAAAAAi/mochi-cat-love.gif", 
  // Music: Romantic piano loop (Public domain example)
  music: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
};

// --- Helper Components ---

const FloatingHearts = () => {
  const hearts = Array.from({ length: 15 }).map((_, i) => ({
    id: i,
    left: Math.random() * 100 + "%",
    delay: Math.random() * 10 + "s",
    size: Math.random() * 20 + 10 + "px",
    duration: Math.random() * 5 + 8 + "s",
    color: Math.random() > 0.5 ? "#fda4af" : "#f472b6" 
  }));

  return (
    <div className="absolute inset-0 overflow-hidden pointer-events-none">
      {hearts.map((heart) => (
        <div
          key={heart.id}
          className="floating-heart"
          style={{
            left: heart.left,
            animationDelay: heart.delay,
            fontSize: heart.size,
            animationDuration: heart.duration,
            color: heart.color
          }}
        >
          <Heart fill="currentColor" />
        </div>
      ))}
    </div>
  );
};

const Card = ({ children, className = "" }) => (
  <div 
    className={`bg-white/80 backdrop-blur-md rounded-[2rem] shadow-xl p-8 max-w-sm w-full mx-4 border-2 border-white/50 relative z-10 transition-all duration-500 ease-out transform ${className}`}
  >
    {children}
  </div>
);

// Screen 1: Intro with Cute Cat
const IntroScreen = ({ onNext }) => (
  <Card className="text-center space-y-8 py-12">
    <div className="flex justify-center relative">
      <div className="absolute inset-0 bg-pink-200 blur-2xl opacity-20 rounded-full animate-pulse" />
      <img src={ASSETS.intro} alt="Mochi Cat on Vans" className="w-40 h-40 object-contain relative z-10 drop-shadow-md" />
    </div>
    
    <div>
      <h1 className="font-hand text-5xl text-rose-500 mb-3 drop-shadow-sm">Hey Cutiepie</h1>
      <p className="font-body text-gray-600 text-lg leading-relaxed font-medium">
        Can we talk for a moment? There's something important I want to tell you.
      </p>
    </div>

    <button 
      onClick={onNext}
      className="bg-white border-2 border-rose-200 text-rose-500 font-body font-bold py-3 px-10 rounded-full shadow-sm hover:bg-rose-50 hover:shadow-md hover:scale-105 transition-all duration-300 flex items-center gap-2 mx-auto"
    >
      Continue <Heart size={18} fill="currentColor" />
    </button>
  </Card>
);

// Screen 2: Sad Cat
const ApologyIntroScreen = ({ onNext }) => (
  <Card className="text-center space-y-8 py-12">
    <div className="flex justify-center">
      <img src={ASSETS.sad} alt="Sad Cat" className="w-48 h-40 object-contain drop-shadow-md" />
    </div>
    
    <p className="font-body text-gray-700 text-xl leading-relaxed px-2 font-medium">
      dekh yr i know mene acha nhi kra but ab m kya kru yr i love u na.
    </p>

    <button 
      onClick={onNext}
      className="bg-gradient-to-r from-purple-300 to-indigo-300 text-white font-body font-bold py-3 px-10 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 flex items-center gap-2 mx-auto"
    >
      Next <ArrowRight size={20} />
    </button>
  </Card>
);

// Screen 3: Interactive Reasons
const ReasonsScreen = ({ onNext }) => {
  const [revealed, setRevealed] = useState([false, false, false]);

  const reasons = [
    { text: "mene phir se sb khrab krdiya... sorry dil se ü•π.", color: "from-orange-200 to-rose-200" },
    { text: "I didnt love u 2 dinse so i want love u double ab sorry i m so bad.", color: "from-pink-200 to-purple-200" },
    { text: "i want you yr please sorry üò≠üò≠üò≠.", color: "from-indigo-200 to-blue-200" }
  ];

  const handleReveal = (index) => {
    const newRevealed = [...revealed];
    newRevealed[index] = true;
    setRevealed(newRevealed);
  };

  const allRevealed = revealed.every(Boolean);

  return (
    <Card className="text-center space-y-6">
      <div className="mb-2">
        <h2 className="font-hand text-4xl text-rose-600 mb-2">Little things I want to tell you...</h2>
        <p className="font-body text-xs text-rose-400 uppercase tracking-widest font-bold">Tap each one</p>
      </div>

      <div className="space-y-4">
        {reasons.map((reason, idx) => (
          <button
            key={idx}
            onClick={() => handleReveal(idx)}
            disabled={revealed[idx]}
            className={`w-full p-5 rounded-2xl transition-all duration-500 transform border-2 ${
              revealed[idx] 
                ? "bg-white border-rose-100 shadow-sm scale-100 cursor-default" 
                : `bg-gradient-to-r ${reason.color} border-transparent shadow-md hover:scale-105 active:scale-95 cursor-pointer`
            }`}
          >
            {revealed[idx] ? (
              <p className="font-body text-gray-700 text-sm font-medium animate-fade-in">{reason.text}</p>
            ) : (
              <Heart className="w-6 h-6 text-white mx-auto animate-pulse" fill="currentColor" />
            )}
          </button>
        ))}
      </div>

      <div className={`transition-all duration-700 h-16 flex items-center justify-center ${allRevealed ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4 pointer-events-none"}`}>
        <button 
          onClick={onNext}
          className="bg-rose-400 text-white font-body font-bold py-3 px-8 rounded-full shadow-lg hover:bg-rose-500 hover:scale-105 transition-all duration-300 flex items-center gap-2"
        >
          My message <ArrowRight size={20} />
        </button>
      </div>
    </Card>
  );
};

// Screen 4: Final Layout with Two Cats
const FinalScreen = () => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div className="w-full max-w-sm px-4 h-full flex items-center justify-center">
      {/* Initial View: Two Cats + Envelope Button */}
      <div className={`transition-all duration-700 absolute w-full max-w-sm ${isOpen ? "opacity-0 pointer-events-none scale-90" : "opacity-100 scale-100"}`}>
        <Card className="text-center space-y-6 pt-8 pb-10">
          <h2 className="font-hand text-4xl text-rose-800">From my heart...</h2>
          
          {/* Two Cats Side by Side */}
          <div className="flex justify-center gap-4 py-2">
            <div className="bg-white p-2 rounded-2xl shadow-sm border border-rose-100 transform -rotate-3">
              <img src={ASSETS.heartCat1} alt="Cat 1" className="w-24 h-24 object-cover rounded-xl" />
            </div>
            <div className="bg-white p-2 rounded-2xl shadow-sm border border-rose-100 transform rotate-3">
               <img src={ASSETS.heartCat2} alt="Cat 2" className="w-24 h-24 object-cover rounded-xl" />
            </div>
          </div>
          
          <div className="space-y-4 pt-2">
            <p className="font-body text-xs text-rose-400 uppercase tracking-widest font-semibold">‚Üì Tap to see message ‚Üì</p>
            
            <button 
              onClick={() => setIsOpen(true)}
              className="w-full bg-white border-2 border-rose-100 rounded-xl p-8 shadow-md hover:shadow-xl hover:border-rose-200 transform transition-all duration-300 hover:-translate-y-1 group relative overflow-hidden"
            >
              <div className="absolute inset-0 bg-gradient-to-r from-rose-50 to-pink-50 opacity-0 group-hover:opacity-100 transition-opacity" />
              <div className="relative z-10">
                <h3 className="font-hand text-5xl text-rose-400 mb-2">I'm Sorry</h3>
                <div className="h-1 w-12 bg-rose-200 mx-auto rounded-full" />
              </div>
              <Stars className="absolute top-3 right-3 text-yellow-300 w-5 h-5 animate-pulse" />
              <Stars className="absolute bottom-3 left-3 text-yellow-300 w-4 h-4 animate-pulse" style={{ animationDelay: '0.5s' }} />
            </button>
          </div>
        </Card>
      </div>

      {/* Expanded Letter View */}
      <div className={`transition-all duration-700 absolute inset-0 flex items-center justify-center p-4 z-20 ${isOpen ? "opacity-100 scale-100" : "opacity-0 pointer-events-none scale-110"}`}>
        <div className="bg-white/95 backdrop-blur-xl rounded-[2rem] shadow-2xl w-full max-w-sm max-h-[85vh] overflow-y-auto p-8 border-4 border-rose-50 relative">
          <button 
            onClick={() => setIsOpen(false)}
            className="absolute top-4 right-4 bg-gray-100 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full p-2 transition-colors"
          >
             <VolumeX size={16} className="rotate-45" />
          </button>
          
          <div className="text-center mb-6 mt-2">
            <h2 className="font-hand text-5xl text-rose-500 mb-3">I'm Sorry</h2>
            <div className="h-1.5 w-20 bg-rose-200 mx-auto rounded-full" />
          </div>

          <div className="font-body text-gray-700 leading-relaxed space-y-4 text-sm text-center">
            <p>
              And ab bas jo itte din se mene i love u ni bole  ü•π‚Ä¶
            </p>
            <p>
              i will just say them to yu myy dearestt bhnnnji..
            </p>
            <p>
              please understand and if possible dont leave meüòîüòîüòî
            </p>
            <p>
              i love you i loveeeeeeeeeeee you only my world ‚ù§Ô∏è‚Äçü©πüíûü§ç
              <br />
              Ik i m very badd but me love uüòîüòî
            </p>
            
            <div className="py-2">
               <Heart className="w-8 h-8 text-rose-300 mx-auto animate-bounce" fill="currentColor" />
            </div>
            
            <p>
              I will try to never do it againüòî
            </p>
            <p className="font-bold text-rose-500 text-lg pt-2 font-hand">
              Dil se i m sorry dii please.. ‚ù§Ô∏è
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

// --- Main App ---

function App() {
  const [step, setStep] = useState(0);
  const [isPlaying, setIsPlaying] = useState(false);
  const audioRef = useRef(null);

  const toggleMusic = () => {
    if (isPlaying) {
      audioRef.current.pause();
    } else {
      // Browsers often require a user interaction (like a button click) to play audio
      audioRef.current.play().catch(e => console.log("Audio play failed, user interaction may be required."));
    }
    setIsPlaying(!isPlaying);
  };

  const nextStep = () => setStep(s => s + 1);

  return (
    <div className="relative w-full h-screen bg-gradient-to-br from-orange-50 via-rose-50 to-pink-100 overflow-hidden flex items-center justify-center font-sans">
      
      {/* Background Elements */}
      <FloatingHearts />
      <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-30 pointer-events-none" />
      
      {/* Gradient Orbs for vibe */}
      <div className="absolute top-[-10%] left-[-10%] w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob" />
      <div className="absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000" />
      <div className="absolute bottom-[20%] left-[20%] w-96 h-96 bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000" />

      {/* Music Player */}
      <div className="absolute top-6 right-6 z-50">
        <button 
          onClick={toggleMusic}
          className="bg-white/60 backdrop-blur-md p-3 rounded-full text-rose-500 hover:bg-white transition-all shadow-sm ring-1 ring-white/50"
        >
          {isPlaying ? <Volume2 size={24} /> : <VolumeX size={24} />}
        </button>
        <audio ref={audioRef} src={ASSETS.music} loop />
      </div>

      {/* Main Content Area */}
      <div className="w-full h-full flex items-center justify-center relative z-10 transition-all duration-500">
        {step === 0 && <IntroScreen onNext={nextStep} />}
        {step === 1 && <ApologyIntroScreen onNext={nextStep} />}
        {step === 2 && <ReasonsScreen onNext={nextStep} />}
        {step === 3 && <FinalScreen />}
      </div>
    </div>
  );
}

// Render the application
ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>

</body>
</html>